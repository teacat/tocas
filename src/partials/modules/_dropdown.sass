//   ▄▄▄        ▄▄████▄
// ▄█████▄    ▄██▀    ██
// ▀█▄   ██▄ ██▀      ██
//  ▀██▄▄▄████   ▄▄▄██▀
//     ▀▀▀████▀▀▀▀▀
//        ██
//       ██          ▄█████▄       █████████████          ▄█             █▄
//      ██         ▄█▀     ▀█▄     ██         ██         ██▀█▄         ▄█▀
//      ██        ██         ██    ██         ██        ██  ▀██       ██▀
//      ██        ██         ██    ██         ██      ▄█▀     ██     ▀▀▀▀▀▀▀███
//      ██        ▀█▄       ▄█▀    ██         ██     ██▀       ▀█▄         ██▀
//       ██         ▀███████▀      █████████████    ███▄▄▄▄▄▄▄▄▄██▓       █▀
//
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@   D R O P D O W N   @@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

//**************************************
//*******   A N I M A T I O N   ********
//**************************************

/* Generated with Bounce.js. Edit at http://goo.gl/l6LLrp */

@keyframes downward
  0%
    opacity: 0
    transform: translate(0, -15px) matrix3d(1,0,0.00,0,0.00,0.001,0.00,0,0,0,1,0,0,0,0,1)

  30%
    opacity: 1
    transform: translate(0, -3px) matrix3d(1,0,0.00,0,0.00,0.9,0.00,0,0,0,1,0,0,0,0,1)

  100%
    opacity: 1
    transform: translate(0, 0px) matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,0,0,0,1)


@keyframes upward
  0%
    opacity: 0
    transform: translate(0, 15px) matrix3d(1,0,0.00,0,0.00,0.001,0.00,0,0,0,1,0,0,0,0,1)

  30%
    opacity: 1
    transform: translate(0, 3px) matrix3d(1,0,0.00,0,0.00,0.9,0.00,0,0,0,1,0,0,0,0,1)

  100%
    opacity: 1
    transform: translate(0, 0px) matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,0,0,0,1)




//**************************************
//*******   G E N E R A T O R   ********
//**************************************

=dropdown-generator
  @for $i from 1 through $dropdownAmount
    @at-root
      #{&}.#{nth($dropdownSizes, $i)}
        //+y-margin($padding)
        +y-padding($padding * ($i / 5))
        +x-padding($padding * ($i / 4), $padding * ($i / 4) * 3)

        &[size]
          +x-padding($padding * ($i / 4))

          option
            +rd
            +y-padding($padding * ($i / 6))
            +x-padding($padding * ($i / 5))






        font-size: nth($dropdownFontSizes, $i)
        background-position: calc(100% - 20px) calc(#{$padding * ($i / 5)} + 1em - 5px), calc(100% - 15px) calc(#{$padding * ($i / 5)} + 1em - 5px)




//**************************************
//***********   T H E M E   ************
//**************************************

=dropdown-theme($color, $textColor)
  color: $textColor


  border-color: darken($color, 10%)
  color       : $textColor

  // WEBKIT-INPUT-PLACEHOLDER
  //
  // Webkit 的 Placeholder 屬性。

  &::-webkit-input-placeholder
    color: $textColor

  &:-moz-placeholder,
  &::-moz-placeholder,
  &:-ms-input-placeholder
    color: $textColor



  //
  //
  //




  // EMPTY
  //
  // 空的時候。

  &:empty:before
    color: rgba($textColor, 0.6)



  // HOVER
  //
  //

  &:hover
    border-color: darken($color, 20%)



  //
  //
  //

  &:not(.basic)


    // INPUT
    //
    //

    input, textarea, div[contenteditable]
      background-color: $color

      // WEBKIT-INPUT-PLACEHOLDER
      //
      // Webkit 的 Placeholder 屬性。

      &::-webkit-input-placeholder
        color: rgba($textColor, 0.6)

      &:-moz-placeholder,
      &::-moz-placeholder,
      &:-ms-input-placeholder
        color: rgba($textColor, 0.6)




//**************************************
//************   M A I N   *************
//**************************************

.ts.dropdown
  +z(1)
  +rd
  +relative
  +dropdown-generator
  +border-box
  +normal
  +dropdown-theme(lighten($defaultColor, 35%), $defaultTextColor)
  //-webkit-transform: translateZ(0)
  //-webkit-font-smoothing: antialiased
  //-webkit-perspective: 1000
  -webkit-backface-visibility: hidden
  appearance        : none
  -webkit-appearance: none
  -moz-appearance   : none

  border-width: .1rem
  border-style: solid



  //
  //
  //

  &:not([size])
    background-image: linear-gradient(45deg, transparent 50%, gray 50%), linear-gradient(135deg, gray 50%, transparent 50%)
    background-size: 5px 5px, 5px 5px
    background-repeat: no-repeat



  // ONLY CHILD
  //
  //

  &:only-child
    margin: 0


  // [&] HOVER
  //
  //

  &:hover
    +poi



  // [&] Fluid
  //
  // 流動寬度的下拉選單。

  &.fluid
    width: 100%



  // Menu
  //
  // 選單。

  .menu
    +absolute
    +no-wrap
    +no-overflow
    +rd
    +y-margin($margin)

    border: 1px solid darken($defaultColor, 6%)
    background-color: $defaultColor
    box-shadow: 0 0px 1px 0 darken($defaultColor, 4%),0 0 0 0px darken($defaultColor, 4%)



    // Hidden
    //
    // 隱藏選單。

    &.hidden
      +none



    // Item
    //
    // 選項。

    .item
      +extend(ease-less)
      +extend(no-tap)
      +y-padding($padding)
      +x-padding($padding * 1.5)
      +normal

      color: rgba($defaultTextColor, 0.8)
      background-color: $defaultColor



      // Icon, Fa
      //
      // 選項中的圖示。

      .icon, .fa
        +normal
        +x-margin(x, $margin)
        +inline-block

        line-height: $normal
        vertical-align: top



      // [&] HOVER
      //
      //

      &:hover
        +extend(poi)

        color: rgba($defaultTextColor, 1)
        background-color: darken($defaultColor, 3%)



      // [&] ACTIVE
      //
      //

      &:active
        color: rgba($defaultTextColor, 1)
        background-color: darken($defaultColor, 6%)



      // Content
      //
      // 包含 Description 和 Text 的容器。

      .content
        +inline-block



      // Description
      //
      // 說明區塊。

      .description
        +block
        +small
        +y-margin($margin / 2, x)

        color: rgba($defaultTextColor, 0.6)



      // Text
      //
      // 動作標題區塊。

      .text
        line-height: $normal



    // Header
    //
    // 於選單中的標題分隔列。

    .header
      +extend(ease-less)
      +extend(no-tap)
      +y-padding($padding)
      +x-padding($padding * 1.5)
      +small
      +bold-weight



    // Header + Divider
    //
    // 於標題分隔列後的分隔線。

    .header + .divider
      +y-margin(0, x)



    // Divider
    //
    // 分隔線。

    .divider
      +y-margin($margin)

      border-bottom-style: solid
      border-bottom-width: 1px
      border-bottom-color: darken($defaultColor, 6%)



  // [&] Downward
  //
  // 向下展開的選單。

  &.downward
    .menu
      +position(100%, x, x, x)



  // [&] Upward
  //
  // 向上展開的選單。

  &.upward
    .menu
      +position(x, x, 100%, x)



  // [&] Downward Active NOT Mobile NOT Friendly
  //
  // 向下展開的選單且啟用中而且不是全螢幕選單。

  &.downward.active
    .menu
      animation: downward 700ms cubic-bezier(0.22, 0.61, 0.36, 1) both
      transform-origin: center top 0px



  // [&] Rightward
  //
  // 向右展開的選單。

  &.rightward
    .menu
      +position(x, x, x, 0%)



  // [&] Leftward
  //
  // 向左展開的選單。

  &.leftward
    .menu
      +position(x, 0%, x, x)



  // [&] Upward Active NOT Mobile NOT Friendly
  //
  // 向上展開的選單且啟用中而且不是全螢幕選單。

  &.upward.active
    .menu
      animation: upward 700ms cubic-bezier(0.22, 0.61, 0.36, 1) both
      transform-origin: center bottom 0px